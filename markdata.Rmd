---
title: "keller data"
author: "Brian S Yandell"
date: "August 23, 2016"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(readxl)
mark <- read_excel("Islet proteomic analysis of founder strains.xlsx")
row.names(mark) <- paste(seq_len(nrow(mark)), mark[[1]], sep = ".")
mark <- mark[,-1]
sapply(mark, summary)
mark <- mark[!apply(mark, 1, function(x) all(is.na(x))),]
summary(apply(mark, 1, function(x) sum(is.na(x))))
```

```{r}
library(d3heatmap)
dist_fun <- function(x) {
  as.dist((1 - cor(t(x), use = "pairwise.complete.obs")) / 2)
}

d3heatmap(mark, scale = "column", colors = "Blues",
      distfun = dist_fun,
      dendrogram = "both")

